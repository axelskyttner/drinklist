<!doctype html> <html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="bootstrap">

    <title>Hello, world!</title>
  </head>
  <body>
    <script src="jespers_react.js"></script>
<ul class="list-group" id="thelist"></ul>
    <script>
     
    const callback = (json_data)=>{
       const transaction_history = JSON.parse(json_data).history 
       const users = Array.from(new Set(transaction_history.map(a=>a.name)))
       console.log("users", users)

       var user_values = users.map((username)=>{
            const transactions = transaction_history
                .filter(data=>data.name == username)
                
           return transactions.length
        })
        update_list(users, user_values)
    }

    const url ="http://molnhatt.se:3333/get_data"
    httpGetAsync(url, callback)

</script>
  </body>
</html>
